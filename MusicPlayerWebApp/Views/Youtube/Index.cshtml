@*
    For more information on enabling MVC for empty projects, visit https://go.microsoft.com/fwlink/?LinkID=397860
*@
@{
}

@{
    Layout = "~/Views/Shared/_Layout.cshtml";  // Specifies the layout page
}

<h2>YouTube Video Fetcher</h2>
<form method="post" action="/YouTube/Fetch">
    <label for="videoQuery">Enter YouTube URL or search terms:</label>
    <input type="text" id="videoQuery" name="videoQuery" required>
    <button type="submit">Fetch Video</button>
</form>

@if (!string.IsNullOrEmpty(ViewBag.Message))
{
    <p>@ViewBag.Message</p>
}

@if(ViewBag.Title != null)
{
    <div>
        <h3><a href="@ViewBag.VideoUrl">@ViewBag.Title</a></h3>
        <a href="@ViewBag.VideoUrl"><img src="@ViewBag.ThumbnailUrl" alt="Video Thumbnail"></a>
        <p>@ViewBag.Description</p>
        <p>Views: @ViewBag.Views | Posted: @ViewBag.PublishedAt</p>
        <h4>Channel: <a href="@ViewBag.ChannelUrl">@ViewBag.ChannelTitle</a></h4>
        <img src="@ViewBag.ChannelIcon" alt="Channel Icon" style="width: 50px; height: 50px;">
        <p>Subscribers: @ViewBag.Subscribers</p>
    </div>
}
